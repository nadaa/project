<!DOCTYPE html>
<html>
<head>
     <link rel="stylesheet" type="text/css" href="bootstrap.css">
     <link rel="stylesheet" type="text/css" href="styles.css">
     <script src="jquery.js"> </script>
     <script type="text/javascript" src="bootstrap.js"></script>
     <script src="jquery.js">   </script>
     <script  src="data-model.js"> </script>
     <title>Discover the World</title>

</head>
<body>


<body>
<div class="container-fluid">
 

<div id="topdiv">
  <h1 id="title"> Discover the World</h1>
  <p> WHERE DO YOU PREFER TO SPEND YOUR VACATION? </p>

</div>

<div id ="maincont">
    <div style="text-align:center">
    <button class="catBtn"> History</button>
    <button class="catBtn"> Nature</button>
    <button class="catBtn"> Modern</button>
    </div>
</div>

 <div id="divcat">
  </div>

<div id="divinfo">
  </div>

  
  </div>
 

  <script>
  $(document).ready(function(){
    var cats;
    var index // this is to store the clicked image index to use it in the text box to send the rank
    $('.catBtn').on('click',function(){
      shuffle()
      var btn=$(this).text().trim().toLowerCase();
      // var infos='';
      var img;
      $('#divcat').html('');
      $('#divinfo').html('');
      cats=getCategoryList(btn);
        for (var i=0;i<cats.length;i++){
          var j=i+1;
         // var img=$('<div id=divcol'+j+'><img src='+cats[i].image+'></div>')
         img=$('<img id='+j+' src='+cats[i].image+'>') 
        
                 // var divinfo=$('<div>'+infos+'<span><a href='+cats[i].info+' target=_blank>For info</a></span></div>');

        $('#divcat').append(img);

        //$('#divcat').after('<input type="text">')

        $('#divinfo').append(divinfo);
        

    }
      

});


$('#divcat').on('click',function(event){

  var target = $( event.target );
  if ( target.is( "img")) 
  {var placeObj=cats[target.attr('id')-1];
  index=target.attr('id');

  $('#divinfo').html('<div>'+placeObj.place+', '+placeObj.country+'</div><br> <div>'+ placeObj.info+'</div><br><br>').css({'text-align':'center','font-size':24})

 
  
  $('#divinfo').append('<div> Add your rank <input id="rank" type="text"><button id="submit">Submit</button> </div>')


  
  
 // $('#divinfo').text(placeObj.place+', '+placeObj.country+'\n'+placeObj.info).css({'text-align':'center','font-size':24})
 ;}

});


$('#divinfo').on('click',function(){

var target = $( event.target );
  if ( target.is('#submit'))
  {  

  var rankValue=Number($('#rank').val());
  cats[index-1].addRank(rankValue);
  alert(" your rank is "+cats[index-1].getRank())

  }
//console.log(rankValue)
// call function to add the rank assciated with the clicked place

})


  });


</script>



</body>
</html>